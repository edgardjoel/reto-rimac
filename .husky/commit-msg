#!/bin/sh

# Ejecuta commitlint para validar el mensaje del commit
npx commitlint --edit "$1"


# Aseg√∫rate de que el mensaje del commit no est√© vac√≠o
COMMIT_MSG=$(cat "$1")
if [ -z "$COMMIT_MSG" ]; then
  echo "‚ùå ¬°El mensaje del commit no puede estar vac√≠o!"
  echo "üí° Por favor, proporciona un mensaje de commit significativo siguiendo las pautas."
  echo ""
  echo "‚úÖ **Formato del mensaje de commit:**"
  echo ""
  echo "    tipo(scope): descripci√≥n"
  echo ""
  echo "üîç **Ejemplo:**"
  echo ""
  echo "    feat(auth): a√±adir funcionalidad de inicio de sesi√≥n de usuario"
  echo ""
  echo "üìö **Tipos v√°lidos:**"
  echo "    - feat: Una nueva caracter√≠stica"
  echo "    - fix: Una correcci√≥n de un bug"
  echo "    - docs: Cambios √∫nicamente en la documentaci√≥n"
  echo "    - style: Cambios que no afectan el significado del c√≥digo (espacios en blanco, formato, etc.)"
  echo "    - refactor: Un cambio en el c√≥digo que no corrige un bug ni a√±ade una caracter√≠stica"
  echo "    - perf: Un cambio en el c√≥digo que mejora el rendimiento"
  echo "    - test: Adici√≥n o correcci√≥n de pruebas existentes"
  echo "    - chore: Otros cambios que no modifican los archivos src o test"
  echo "    - revert: Revertir un commit anterior"
  echo ""
  exit 1
fi
